<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- views -->
  <record id="bms_object_view_tree" model="ir.ui.view">
    <field name="name">bms.object.tree</field>
    <field name="model">bms.maintainance_object</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="lantis_unique_id"/>
        <field name="is_active"/>
        <field name="is_asset"/>
      </tree>
    </field>
  </record>

  <record id="bms_maintainance_object_view_form" model="ir.ui.view">
    <field name="name">bms.maintainance_object.form</field>
    <field name="model">bms.maintainance_object</field>
    <field name="arch" type="xml">
      <!-- <form string="Maintainance object" js_class="maintainance_object_form"> -->

      <form string="Maintainance object" js_class="maintainance_object_form" >
      
        <group>
          <field name="name"/>
          <field name="lantis_unique_id"/>
          <field name="is_active"/>
          <field name="is_asset"/>
        </group>
        <!-- <field name="object_type_ids" widget="Many2Many_table">
           domain="[('maintainance_object.id', 'in', object_type_ids)]" 
          <tree>
            <field name="name"/>
            <field name="description"/>
            <field name="otl_id"/>
          </tree>
        </field>

        <field name="object_type_ids" widget="many2many" readonly="false">
          <tree>
            <field name="name"/>
            <field name="description"/>
            <field name="otl_id"/>
             <field name="attribute_ids" widget="many2many">
              <tree>
                <field name="name"/>
                <field name="description"/>
                <field name="value_type"/>
              </tree>
            </field> 
          </tree>
        </field>

        <field name="attr_value_ids" widget="ListX2ManyField">
          <tree>
            <field name="attr_def_name"/>
            <field name="attr_def_value_type"/>
            <field name="value_string"/>
            <field name="value_boolean"/>
            <field name="value_date"/>
            <field name="value_float"/>
            <field name="value_binary"/>
            <field name="value_integer"/>
          </tree>
        </field> -->
      </form>
    </field>
  </record>



  <record id="bms_object_type_library_view_tree" model="ir.ui.view">
    <field name="name">bms.asset.tree</field>
    <field name="model">bms.object_type_library</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="description"/>
      </tree>
    </field>
  </record>

  <record id="bms_object_type_library_view_form" model="ir.ui.view">
    <field name="name">bms.object_type_library.form</field>
    <field name="model">bms.object_type_library</field>
    <field name="arch" type="xml">
      <form string="Object type library">
        <group>
          <field name="name"/>
          <field name="description"/>
        </group>
      </form>
    </field>
  </record>


  <record id="bms_object_type_view_tree" model="ir.ui.view">
    <field name="name">bms.object_type.tree</field>
    <field name="model">bms.object_type</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="description"/>
        <field name="otl_id"/>
      </tree>
    </field>
  </record>

  <record id="bms_object_type_view_form" model="ir.ui.view">
    <field name="name">bms.object_type.form</field>
    <field name="model">bms.object_type</field>
    <field name="arch" type="xml">
      <form string="Object type library">

        <group>
          <field name="name"/>
          <field name="description"/>
          <field name="otl_id"/>
        </group>

        <field name="attribute_ids" nolabel="1" widget="many2many">
          <!-- <tree>
                <field name="name"/>
                <field name="description"/>
                <field name="value_type"/>
              </tree> -->
        </field>
        <!-- <field name="attr_value_ids" nolabel="1" widget="many2many">
            <tree>
            <field name="value_string" />
            <field name="value_boolean" />
            <field name="value_date" />
            <field name="value_float" />
            <field name="value_binary" />
            <field name="value_integer" />
            </tree>
            </field> -->


      </form>
    </field>
  </record>

  <record id="bms_attribute_definition_view_tree" model="ir.ui.view">
    <field name="name">bms.attribute_definition.tree</field>
    <field name="model">bms.attribute_definition</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="description"/>
        <field name="value_type"/>
      </tree>
    </field>
  </record>

  <record id="bms_attribute_definition_view_form" model="ir.ui.view">
    <field name="name">bms.attribute_definition.form</field>
    <field name="model">bms.attribute_definition</field>
    <field name="arch" type="xml">
      <form string="Attribute definition">
        <sheet>
          <group>
            <field name="name"/>
            <field name="description"/>
            <field name="value_type"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>


  <record id="bms_attribute_value_view_tree" model="ir.ui.view">
    <field name="name">bms.attribute_value.tree</field>
    <field name="model">bms.attribute_value</field>
    <field name="arch" type="xml">
      <tree>
        <field name="object_name" />
        <field name="attr_def_name"/>
        <field name="attr_def_value_type"/>
        <field name="value_string"/>
        <field name="value_boolean"/>
        <field name="value_date"/>
        <field name="value_float"/>
        <field name="value_binary"/>
        <field name="value_integer"/>
      </tree>
    </field>
  </record>

  <record id="bms_attribute_value_view_form" model="ir.ui.view">
    <field name="name">bms.attribute_value.form</field>
    <field name="model">bms.attribute_value</field>
    <field name="arch" type="xml">
      <form string="Attribute value">
        <sheet>
          <group>
            <field name="object_id"/>
            <field name="attr_def_id"/>
            <field name="attr_def_value_type"/>
            <field name="value_string"/>
            <field name="value_boolean"/>
            <field name="value_date"/>
            <field name="value_float"/>
            <field name="value_binary"/>
            <field name="value_integer"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>


  <!-- actions -->
  <record id="bms_object_action" model="ir.actions.act_window">
    <field name="name">Maintainance Object</field>
    <field name="res_model">bms.maintainance_object</field>
    <field name="view_mode">tree,form</field>
  </record>

  
  <record id="bms_object_type_library_action" model="ir.actions.act_window">
    <field name="name">Maintainance Object Type Library</field>
    <field name="res_model">bms.object_type_library</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="bms_object_type_action" model="ir.actions.act_window">
    <field name="name">Maintainance Object Type</field>
    <field name="res_model">bms.object_type</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="bms_attribute_value_action" model="ir.actions.act_window">
    <field name="name">Attribute value</field>
    <field name="res_model">bms.attribute_value</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="bms_attribute_definition_action" model="ir.actions.act_window">
    <field name="name">Attribute definition</field>
    <field name="res_model">bms.attribute_definition</field>
    <field name="view_mode">tree,form</field>
  </record>



  <!-- <record model="ir.actions.client" id="custom_maintenance_object">
      <field name="name">Custom maintainance object</field>
      <field name="tag">bms.maintainance_object</field>
    </record>
 -->

  <!-- menuitems -->
  <menuitem id="bms_root" name="BMS"/>
  <menuitem id="bms_object" parent="bms_root" name="Maintainance Object" groups="base.group_user"  sequence ="10" action="bms_object_action"/>

  
  <menuitem id="bms_settings" parent="bms_root" name="Settings" groups="base.group_user" />
  <menuitem id="bms_object_type_library" parent="bms_settings" name="Object Type Library" groups="base.group_user" sequence="10" action="bms_object_type_library_action"/>
  <menuitem id="bms_object_type" parent="bms_settings" name="Object type" groups="base.group_user" sequence="10" action="bms_object_type_action"/>
  <menuitem id="bms_attribute_value" parent="bms_settings" name="Attribute value" groups="base.group_user" sequence="20" action="bms_attribute_value_action"/>
  <menuitem id="bms_attribute_definition" parent="bms_settings" name="Attribute definition" groups="base.group_user" sequence="30" action="bms_attribute_definition_action"/>



</odoo>